<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chatbot — Nicolas Tuor</title>
  <link rel="stylesheet" href="/style.css" />
  <!-- Si tu as un favicon, garde la ligne ci-dessous. Sinon supprime-la pour éviter le 404. -->
  <link rel="icon" href="/favicon.ico" />
  <style>
    :root {
      --bg:#0b1f33; --panel:#0b2237; --ink:#e6f1ff; --bd:#ffffff22; --muted:#b8d1ff;
      --chip:#0c2b4a; --chipbd:#ffffff22; --accent:#1e90ff; --ok:#22c55e; --warn:#f59e0b;
    }
    body { background: var(--bg); color: var(--ink); }
    .container { max-width: 1100px; margin: 0 auto; padding: 18px; }

    /* Nav */
    .navbar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--bd)}
    .nav-left,.nav-right{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--chipbd);background:var(--chip);
      border-radius:12px;color:var(--ink);text-decoration:none}
    .chip:hover{background:#10335a}

    h1{font-size:2rem;margin:16px 0}
    .modebar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:4px 0 12px}
    .range{appearance:none;width:240px;height:6px;background:#123456;border-radius:999px;outline:none}
    .range::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:2px solid #0b2b55}
    .badge{display:inline-block;font-size:.8rem;padding:.1rem .5rem;border-radius:999px;border:1px solid var(--bd);background:#0a2340;margin-left:6px}

    .panel{background:rgba(8,18,35,.7);border:1px solid var(--bd);border-radius:12px;padding:14px}
    .log{height:min(58vh,560px);overflow:auto;display:flex;flex-direction:column;gap:10px}
    .bubble{max-width:92%;padding:10px 12px;border-radius:12px;border:1px solid var(--bd)}
    .bot{background:#0c2a4b}
    .user{background:#0f3a65;margin-left:auto}
    .meta{font-size:.9rem;color:var(--muted)}
    .composer{display:flex;gap:10px;margin-top:10px}
    textarea{flex:1;min-height:100px;padding:10px;border-radius:10px;border:1px solid var(--bd);background:#0b2237;color:var(--ink)}
    button.btn{padding:10px 14px;border-radius:10px;border:1px solid var(--bd);background:#0e3b63;color:#fff;cursor:pointer}
    button.btn:hover{background:#104570}

    .legend{font-size:.95rem;opacity:.9;margin:.2rem 0 1rem}
    .tag{display:inline-block;border:1px solid var(--bd);border-radius:8px;padding:2px 6px;margin-left:4px}
    .t-cv{color:#a7f3d0;border-color:#065f46}
    .t-pro{color:#bfdbfe;border-color:#1d4ed8}
    .t-ded{color:#fde68a;border-color:#b45309}
  </style>

  <!-- pdf.js (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.10.111/pdf.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- Ton script -->
  <script defer src="/chatbot.js"></script>
</head>
<body>
  <!-- NAV -->
  <header class="navbar">
    <div class="nav-left">
      <a class="chip" href="/">Accueil</a>
      <a class="chip" href="/portfolio">Portfolio</a>
      <a class="chip" href="/cv">CV</a>
      <a class="chip" href="/chatbot">Chatbot</a>
      <a class="chip" href="/ai-lab">Idées IA</a>
      <a class="chip" href="/fun-facts">Fun Facts</a>
    </div>
    <div class="nav-right">
      <a class="chip" href="/chatbot">FR</a>
      <a class="chip" href="/chatbot-en">EN</a>
      <a class="chip" href="/chatbot-de">DE</a>
    </div>
  </header>

  <main class="container">
    <h1>Chatbot IA</h1>

    <div class="modebar">
      <label for="freedom">Liberté</label>
      <input id="freedom" class="range" type="range" min="0" max="2" step="1" value="2" />
      <span id="freedomLabel" class="badge">2</span>
      <span class="legend">
        <strong>0</strong> = strict/factuel • <strong>1</strong> = prudent • <strong>2</strong> = interprétatif <em>(les ajouts sont marqués <span class="tag t-ded">[Déduit]</span>)</em>.
      </span>
    </div>

    <p class="meta">
      Le bot s’appuie sur <code>/profile.json</code> (si présent), puis <code>/cv-text.json</code> ou <code>/CV_Nicolas_Tuor.pdf</code>.
      Il annote ses sources&nbsp;: <span class="tag t-cv">[CV]</span>, <span class="tag t-pro">[Profil]</span>, <span class="tag t-ded">[Déduit]</span>.
    </p>

    <section class="panel">
      <div id="chatLog" class="log" aria-live="polite"></div>
      <div class="composer">
        <textarea id="chatInput" placeholder="Écrivez votre message… (Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne)"></textarea>
        <button id="chatSend" class="btn">Envoyer</button>
      </div>
      <p class="meta" style="margin-top:6px">
        Exemples : • « Quelles compétences techniques ressortent ? » • « Parle-moi d’une expérience marquante. » • « Quelles langues parle-t-il ? » • « Ses passions ? » • « Est-il à l’aise pour coordonner une équipe ? »
      </p>
    </section>
  </main>
</body>
</html>
