<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Idées IA — Lab</title>
  <meta name="description" content="Générateur de quiz PER et mini-jeu pédagogiques."/>
  <link rel="icon" href="/favicon.ico"/><!-- si 404, remplace par /icon.svg existant -->
  <link rel="stylesheet" href="/style.css"/>
  <script src="/site.js" defer></script>
  <script src="/ai-lab.js" defer></script>
  <style>
    .layout{display:grid;gap:16px;grid-template-columns:1fr}
    @media (min-width:960px){.layout{grid-template-columns:1fr 1fr}}
    #qOutput pre{white-space:pre-wrap;word-break:break-word}
    #osselets-root{min-height:320px}
  </style>
</head>
<body>
<header class="site-header">
  <nav class="wrap row">
    <a href="/" class="btn ghost">Accueil</a>
    <a href="/portfolio.html" class="btn ghost">Portfolio</a>
    <a href="/cv.html" class="btn ghost">CV</a>
    <a href="/chatbot.html" class="btn ghost">Chatbot</a>
    <a href="/ai-lab.html" class="btn" aria-current="page">Idées IA</a>
    <a href="/fun-facts.html" class="btn ghost">Fun Facts</a>
    <span style="flex:1"></span>
    <a href="/ai-lab.html" class="btn">FR</a>
    <a href="/ai-lab-en.html" class="btn ghost">EN</a>
    <a href="/ai-lab-de.html" class="btn ghost">DE</a>
  </nav>
</header>

<main class="wrap">
  <h1>Idées IA — Lab</h1>
  <section class="layout">
    <div class="card">
      <h3>Générateur de quiz (aligné PER)</h3>
      <div class="field">
        <label for="qTheme">Thème</label>
        <select id="qTheme">
          <option value="histoire-antique">Histoire — Antiquité</option>
          <option value="science">Sciences</option>
          <option value="langue">Langue</option>
          <option value="arts">Arts</option>
        </select>
      </div>
      <div class="grid" style="display:grid;gap:8px;grid-template-columns:repeat(3,minmax(0,1fr))">
        <div class="field">
          <label for="qAge">Âge / Cycle</label>
          <select id="qAge">
            <option value="cycle1">Cycle 1</option>
            <option value="cycle2">Cycle 2</option>
            <option value="cycle3">Cycle 3</option>
            <option value="postoblig">Post-obligatoire</option>
          </select>
        </div>
        <div class="field">
          <label for="qCount">Nombre de questions</label>
          <input id="qCount" type="number" min="1" max="20" value="6"/>
        </div>
        <div class="field">
          <label for="qLang">Langue</label>
          <select id="qLang">
            <option value="fr" selected>Français</option>
            <option value="en">English</option>
            <option value="de">Deutsch</option>
          </select>
        </div>
      </div>
      <div class="field">
        <label for="qObjectives">Objectifs (mots-clés PER)</label>
        <textarea id="qObjectives" rows="3" placeholder="Ex.: repérage d’objets archéologiques ; notions apotropaïques ; vocabulaire du tarse…"></textarea>
      </div>
      <div class="row" style="display:flex;gap:8px;align-items:center">
        <button id="qGen" class="btn primary">Générer</button>
        <small id="qStatus" class="muted"></small>
      </div>
      <div id="qOutput" class="card" style="margin-top:10px;background:#ffffff10;border-color:#ffffff22;">
        <pre>Le quiz généré apparaîtra ici…</pre>
      </div>
    </div>

    <div class="card">
      <h3>Mini-jeu — Osselets d’astragale (Runner 2D)</h3>
      <div id="osselets-root"><div class="muted">Chargement du jeu…</div></div>
      <p class="muted" style="margin-top:8px">← → bouger · Espace sauter · P pause · M musique · H cours d’histoire.</p>
    </div>
  </section>
</main>

<footer class="wrap" style="margin:24px 0 40px;opacity:.8">© Nicolas Tuor — Lab IA</footer>

<!-- React + ReactDOM UMD -->
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<!-- Babel Standalone avec TSX -->
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- IMPORTANT : fichier renommé en .tsx -->
<script type="text/babel"
        data-presets="typescript,react"
        data-plugins="transform-typescript"
        src="/osselets-runner.tsx"></script>

<script type="text/babel" data-presets="react">
  (function(){
    const root=document.getElementById("osselets-root");
    if(root && window.AstragalusRunner){
      const r=ReactDOM.createRoot(root);
      r.render(React.createElement(window.AstragalusRunner));
    }else{
      console.warn("AstragalusRunner introuvable — ajoutez `window.AstragalusRunner = AstragalusRunner;` en bas de votre .tsx.");
    }
  })();
</script>
</body>
</html>
