<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fun Facts — Nicolas Tuor</title>
  <link rel="icon" href="/favicon.ico" />
  <link rel="stylesheet" href="/style.css" />
  <style>
    :root{ --bd:#ffffff22; --ink:#e6f1ff; --bg:#081a2d; }
    body{ background:var(--bg); color:var(--ink); }
    .container{ max-width:1100px; margin:0 auto; padding:24px; }
    h1,h2{ margin:.2rem 0 .8rem; }
    .controls{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin:.5rem 0 .8rem; }
    .btn{ padding:8px 12px; border-radius:10px; border:1px solid var(--bd); background:#0e3b63; color:var(--ink); cursor:pointer }
    .seg{ display:flex; border:1px solid var(--bd); border-radius:10px; overflow:hidden }
    .seg button{ background:#0b1f33; border:0; padding:8px 10px; color:var(--ink); cursor:pointer }
    .seg button.active{ background:#133a61 }

    /* Cartes (flip) */
    .cards-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr)); gap:14px }
    .card{ position:relative; height:160px; perspective:1000px }
    .flip{ position:absolute; inset:0; transform-style:preserve-3d; transition:transform .5s ease }
    .card.flipped .flip{ transform:rotateY(180deg) }
    .face{ position:absolute; inset:0; backface-visibility:hidden; border:1px solid var(--bd); border-radius:12px; padding:12px; background:rgba(255,255,255,.04) }
    .back{ transform:rotateY(180deg) }
    .type{ font-weight:700; margin-bottom:6px }
    .badge{ display:inline-block; font-size:.8rem; padding:.1rem .5rem; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid var(--bd); margin-right:6px }
    .title{ font-size:1.05rem; margin:.25rem 0 .35rem }
    .small{ font-size:.92rem; line-height:1.35 }

    /* Nuage */
    .cloud-wrap{ position:relative; min-height:420px; border:1px solid var(--bd); border-radius:14px; overflow:hidden; background:rgba(255,255,255,.02) }
    .bubble{ position:absolute; display:flex; align-items:center; justify-content:center; border-radius:999px;
      background:radial-gradient(circle at 30% 25%,rgba(255,255,255,.85),rgba(255,255,255,.65));
      color:#0b2237; border:1px solid #ffffff66; box-shadow:0 10px 30px rgba(0,0,0,.3); user-select:none; cursor:pointer; transition:transform .15s ease }
    .bubble:hover{ transform:scale(1.05) }
    .bubble.paused{ outline:2px solid #7dd3fc }
    .bubble .emoji{ position:absolute; left:10px; top:8px; opacity:.85 }
    .bubble .label{ font-weight:800; text-align:center; text-shadow:0 1px 0 rgba(255,255,255,.7); padding:0 10px }

    /* Tooltip */
    #ffTooltip{ position:absolute; max-width:min(520px,85vw); z-index:9999; background:rgba(15,23,42,.98); color:#e5e7eb;
      border:1px solid rgba(255,255,255,.15); border-radius:12px; padding:12px 14px; box-shadow:0 12px 28px rgba(0,0,0,.45); display:none }
    #ffTooltip h4{ margin:0 0 6px 0; font-size:1rem }
    #ffTooltip .meta{ margin-bottom:6px }
    #ffTooltip .badge{ display:inline-block; font-size:.7rem; padding:.1rem .4rem; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); margin-right:6px }
    #ffTooltip p{ margin:6px 0 6px 0; font-size:.9rem; line-height:1.3 }
    #ffTooltip .sources ul{ margin:.2rem 0 0 1rem }
    #ffTooltip .sources a{ color:#93c5fd; text-decoration:none }
    #ffTooltip .sources a:hover{ text-decoration:underline }
  </style>
</head>
<body>
  <main class="container">
    <h1>Fun Facts</h1>

    <!-- Cartes -->
    <section>
      <div class="controls">
        <div id="ff-filter" class="seg" role="tablist">
          <button class="active" data-filter="all">Tout</button>
          <button data-filter="fact">Fait avéré</button>
          <button data-filter="myth">Mythe</button>
        </div>
        <button id="ff-new" class="btn">Nouveau lot aléatoire</button>
        <button id="ff-one-fact" class="btn">Un fait</button>
        <button id="ff-one-myth" class="btn">Un mythe</button>
        <span style="opacity:.75">Cliquez une carte pour la retourner (réponse ≤ 50 mots + source).</span>
      </div>
      <div id="ff-cards-grid" class="cards-grid"></div>
    </section>

    <!-- Nuage -->
    <section style="margin-top:22px">
      <h2>Nuage de Fun Facts</h2>
      <div class="controls">
        <button id="ff-shuffle" class="btn">Randomiser</button>
        <span style="opacity:.75">Survolez une bulle pour le détail (≤ 50 mots) — sources cliquables.</span>
      </div>
      <div id="ff-cloud-wrap" class="cloud-wrap" aria-live="polite"></div>
    </section>

    <p style="margin-top:10px;opacity:.8">© Nicolas Tuor — Fun Facts éducatifs.</p>
  </main>

  <!-- IMPORTANT → chemin relatif (même dossier) -->
  <script defer src="./fun-facts.js"></script>
</body>
</html>
