<!doctype html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Fun Facts ‚Äî Id√©es re√ßues & faits v√©rifi√©s</title>

  <link rel="icon" href="/favicon.svg"/>
  <link rel="stylesheet" href="/style.css"/>

  <!-- Hreflang -->
  <link rel="alternate" hreflang="fr" href="/fun-facts.html">
  <link rel="alternate" hreflang="en" href="/fun-facts-en.html">
  <link rel="alternate" hreflang="de" href="/fun-facts-de.html">
  <link rel="alternate" hreflang="x-default" href="/fun-facts.html">

  <!-- Nav unifi√©e -->
  <script defer src="/assets/js/nav.js"></script>

  <!-- Page styles minimaux (sp√©cifiques Fun Facts, n‚Äôimpactent rien d‚Äôautre) -->
  <style>
    /* Masque le fallback tant que JS n‚Äôa pas mont√© la page */
    .ff-wrap.ff-pending .ff-dynamic { display:none; }
    .ff-wrap.ff-ready   .ff-fallback { display:none; }

    .ff-wrap .ff-section{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;margin:14px 0}
    .ff-toolbar{display:grid;grid-template-columns:1fr auto auto;gap:10px}
    @media (max-width:780px){.ff-toolbar{grid-template-columns:1fr}}
    .ff-toolbar input{max-width:420px}

    /* Cartes */
    .ff-cards{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}
    @media (max-width:1100px){.ff-cards{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:680px){.ff-cards{grid-template-columns:1fr}}
    .ff-card{position:relative;perspective:1000px}
    .ff-card .inner{position:relative;transform-style:preserve-3d;transition:transform .45s ease;min-height:160px}
    .ff-card[data-flipped="1"] .inner{transform:rotateY(180deg)}
    .ff-face{position:absolute;inset:0;padding:12px;border:1px solid var(--border);border-radius:12px;background:var(--surface);box-shadow:0 6px 18px rgba(0,0,0,.25);backface-visibility:hidden;display:flex;flex-direction:column;gap:8px}
    .ff-back{transform:rotateY(180deg)}
    .ff-tags{display:flex;gap:6px;flex-wrap:wrap}
    .ff-badge{font-size:.75rem;border:1px solid var(--border);border-radius:999px;padding:2px 8px;background:rgba(255,255,255,.05)}
    .ff-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:auto}
    .ff-actions .btn{padding:6px 10px}

    /* Nuage (bubbles) */
    .ff-canvas-box{position:relative;min-height:320px;border:1px dashed var(--border);border-radius:12px;overflow:hidden;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent)}
    .ff-bubble{position:absolute;display:flex;align-items:center;justify-content:center;border-radius:999px;background:radial-gradient(circle at 30% 25%,rgba(255,255,255,.85),rgba(255,255,255,.6));border:1px solid rgba(255,255,255,.35);box-shadow:0 8px 18px rgba(0,0,0,.25);cursor:pointer;transition:transform .15s ease}
    .ff-bubble:hover{transform:scale(1.05)}
    .ff-bubble span{font-weight:700;color:#0a1930;text-align:center;padding:0 10px}

    /* Popover (pour source rapide) */
    .ff-popover{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:16px;z-index:30}
    .ff-popover.show{display:flex}
    .ff-pop-card{width:min(720px,96vw)}
  </style>

  <script defer src="/fun-facts.js"></script>
</head>
<body>

<main class="container section ff-wrap ff-pending" id="ff_root">
  <h1 class="title">Fun Facts ‚Äî <span class="muted">Id√©es re√ßues & faits v√©rifi√©s</span></h1>
  <p class="lead">Une s√©lection ludique ‚Äî on apprend tous les jours.</p>

  <!-- Contr√¥les -->
  <section class="ff-section ff-dynamic" aria-label="Contr√¥les">
    <div class="ff-toolbar">
      <input id="ff_search" type="search" class="input" placeholder="Rechercher une id√©e re√ßue‚Ä¶"/>
      <button id="ff_random" class="btn">üé≤ Nouveau lot al√©atoire</button>
      <div class="muted" id="ff_count" aria-live="polite"></div>
    </div>
  </section>

  <!-- Cartes -->
  <section id="ff-cards-section" class="ff-section ff-dynamic" aria-label="Cartes">
    <div id="ff_cards" class="ff-cards"></div>
  </section>

  <!-- Nuage -->
  <section id="ff-cloud-section" class="ff-section ff-dynamic" aria-label="Nuage">
    <div class="ff-canvas-box" id="ff_cloud"></div>
  </section>

  <!-- Popover source -->
  <div class="ff-popover" id="ff_pop">
    <div class="ff-pop-card card pad">
      <div class="row" style="justify-content:space-between;align-items:center;">
        <strong id="ff_pop_title">Source</strong>
        <button class="btn" id="ff_pop_close">Fermer</button>
      </div>
      <hr class="soft"/>
      <div id="ff_pop_body"></div>
    </div>
  </div>

  <!-- Fallback (si donn√©es KO) -->
  <section class="ff-section ff-fallback" aria-label="Fallback">
    <h2>Liste</h2>
    <p class="muted">Si vous voyez cette liste, le montage dynamique est d√©sactiv√©. V√©rifiez que <code>fun-facts.js</code> est bien charg√© et qu‚Äôaucun ancien <code>facts.js</code> n‚Äôest inclus.</p>
    <ul id="ff_fallback_list"></ul>
  </section>
</main>

</body>
</html>
